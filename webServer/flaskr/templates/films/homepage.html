{% extends 'base.html' %}

{% block header %}
    {% if recommended_films|length > 0 %}
        <h1 class="text-center mb-4">Film Consigliati</h1>
    {% endif %}
{% endblock %}

{% block content %}

    {% if recommended_films|length > 0 %}
    <div class="row g-4 mb-5">
        {% for film in recommended_films %}
        <div class="col-md-4">
            <div class="card h-100 shadow-sm">
                <a href="{{ url_for('streaming.play_film', film_id=film.id) }}" class="position-relative film-card">
                    <img src="/streaming/image/{{ film.id }}/image.png" class="card-img-top" alt="{{ film.title }}">
                    <div class="film-overlay d-flex align-items-center justify-content-center">
                        <h5 class="text-white text-center m-0 px-2">{{ film.title }}</h5>
                    </div>
                </a>
                <div class="card-body d-flex flex-column">
                    <p class="card-text"><strong>Genere:</strong> {{ film.get_film_genres_str() }}</p>
                    <p class="text-muted mt-auto">Views: {{ film.views }}</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <h1 class="text-center mb-4">Film Popolari</h1>

    <div class="row g-4">
        {% for film in popular_films %}
        <div class="col-md-4">
            <div class="card h-100 shadow-sm">
                <a href="{{ url_for('streaming.play_film', film_id=film.id) }}" class="position-relative film-card">
                    <img src="/streaming/image/{{ film.id }}/image.png" class="card-img-top" alt="{{ film.title }}">
                    <div class="film-overlay d-flex align-items-center justify-content-center">
                        <h5 class="text-white text-center m-0 px-2">{{ film.title }}</h5>
                    </div>
                </a>
                <div class="card-body d-flex flex-column">
                    <p class="card-text"><strong>Genere:</strong> {{ film.get_film_genres_str() }}</p>
                    <p class="text-muted mt-auto">Views: {{ film.views }}</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

{% endblock %}
